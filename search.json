[
  {
    "objectID": "sdtm/examples.html",
    "href": "sdtm/examples.html",
    "title": "SDTM Examples",
    "section": "",
    "text": "For SDTM mapping, there is currently an industry collaboration supported by CDISC for the {roak} R package. Read more here.\nOnce this completes and the package is made available as open source, we will be able to add examples showcasing how best to use this alongside other pharmaverse packages in this space - such as {datacutr} and {sdtmchecks}."
  },
  {
    "objectID": "tlg/index.html",
    "href": "tlg/index.html",
    "title": "TLG",
    "section": "",
    "text": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus porttitor nulla ac libero varius pellentesque. Mauris at nisi a sapien commodo aliquet. Nulla sit amet magna vitae ante vestibulum semper. Integer hendrerit sem diam, et suscipit enim rhoncus vel. Mauris id feugiat est. Duis condimentum sagittis mattis. Donec vel varius elit. Fusce tristique et risus quis fermentum. Maecenas cursus congue tristique. Phasellus odio sapien, placerat vitae mattis nec, sagittis in libero. Praesent vitae congue est. Morbi a odio non ex gravida commodo sed eleifend nibh.\nCurabitur vitae nibh sit amet turpis viverra consequat. Sed egestas urna ac magna rhoncus viverra. Pellentesque id consequat purus. Ut ullamcorper, elit at pretium pellentesque, neque elit blandit diam, ut vehicula lectus enim fringilla dolor. Ut eget ante dui. Mauris vel dignissim nunc. Integer eget vehicula tellus. Etiam dignissim bibendum massa nec porta. Phasellus vehicula id lorem vitae commodo.\nMaecenas iaculis eros ut velit egestas sodales. Curabitur dapibus felis nulla, vel lobortis ante rutrum lacinia. Nam turpis arcu, scelerisque faucibus luctus eget, pellentesque ut nisl. Donec mollis justo vitae tincidunt consectetur. Donec malesuada non tortor eget ullamcorper. Mauris pulvinar imperdiet dolor ac elementum. Vestibulum malesuada in est non pulvinar."
  },
  {
    "objectID": "tlg/test.html",
    "href": "tlg/test.html",
    "title": "test",
    "section": "",
    "text": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus porttitor nulla ac libero varius pellentesque. Mauris at nisi a sapien commodo aliquet. Nulla sit amet magna vitae ante vestibulum semper. Integer hendrerit sem diam, et suscipit enim rhoncus vel. Mauris id feugiat est. Duis condimentum sagittis mattis. Donec vel varius elit. Fusce tristique et risus quis fermentum. Maecenas cursus congue tristique. Phasellus odio sapien, placerat vitae mattis nec, sagittis in libero. Praesent vitae congue est. Morbi a odio non ex gravida commodo sed eleifend nibh.\nCurabitur vitae nibh sit amet turpis viverra consequat. Sed egestas urna ac magna rhoncus viverra. Pellentesque id consequat purus. Ut ullamcorper, elit at pretium pellentesque, neque elit blandit diam, ut vehicula lectus enim fringilla dolor. Ut eget ante dui. Mauris vel dignissim nunc. Integer eget vehicula tellus. Etiam dignissim bibendum massa nec porta. Phasellus vehicula id lorem vitae commodo.\nMaecenas iaculis eros ut velit egestas sodales. Curabitur dapibus felis nulla, vel lobortis ante rutrum lacinia. Nam turpis arcu, scelerisque faucibus luctus eget, pellentesque ut nisl. Donec mollis justo vitae tincidunt consectetur. Donec malesuada non tortor eget ullamcorper. Mauris pulvinar imperdiet dolor ac elementum. Vestibulum malesuada in est non pulvinar."
  },
  {
    "objectID": "session.html",
    "href": "session.html",
    "title": "Session Info",
    "section": "",
    "text": "Session Info\n\nCodesessionInfo()\n\nR version 4.2.2 Patched (2022-11-10 r83330)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 20.04.6 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0\n\nlocale:\n [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    \n [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   \n [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.2 compiler_4.2.2    fastmap_1.1.1     cli_3.6.1        \n [5] tools_4.2.2       htmltools_0.5.5   rstudioapi_0.14   yaml_2.3.7       \n [9] rmarkdown_2.25    knitr_1.44        xfun_0.40         digest_0.6.33    \n[13] jsonlite_1.8.7    rlang_1.1.1       evaluate_0.21    \n\n\nInstalled Packages\n\nCodeknitr::kable(installed.packages()[, c(\"Package\", \"Version\")], row.names = FALSE)\n\n\n\nPackage\nVersion\n\n\n\nadmiral\n0.12.3\n\n\nadmiral.test\n0.7.0\n\n\nadmiraldev\n0.5.0\n\n\narrow\n13.0.0.1\n\n\narsenal\n3.6.3\n\n\nbslib\n0.5.1\n\n\ncar\n3.1-2\n\n\ncarData\n3.0-5\n\n\nchevron\n0.2.0\n\n\ncitril\n0.1.6\n\n\ncitril.metadata\n0.1.4\n\n\ncli\n3.6.1\n\n\ncowplot\n1.1.1\n\n\ncpp11\n0.4.6\n\n\ndata.table\n1.14.8\n\n\ndatacutr\n0.1.0\n\n\ndiffdf\n1.0.4\n\n\ndigest\n0.6.33\n\n\ndm\n1.0.7\n\n\ndownlit\n0.4.3\n\n\ndplyr\n1.1.3\n\n\ndunlin\n0.1.3\n\n\nellipsis\n0.3.2\n\n\nemmeans\n1.8.9\n\n\nestimability\n1.4.1\n\n\nforcats\n1.0.0\n\n\nformatters\n0.5.2\n\n\nfs\n1.6.3\n\n\nggplot2\n3.4.4\n\n\nglue\n1.6.2\n\n\nhaven\n2.5.3\n\n\nhere\n1.0.1\n\n\nhms\n1.1.3\n\n\nhunspell\n3.0.3\n\n\nigraph\n1.5.1\n\n\njanitor\n2.2.0\n\n\njsonlite\n1.8.7\n\n\nknitr\n1.44\n\n\nlifecycle\n1.0.3\n\n\nlubridate\n1.9.3\n\n\nmagrittr\n2.0.3\n\n\nMatrix\n1.6-1.1\n\n\nMatrixModels\n0.5-2\n\n\nmetacore\n0.1.2\n\n\nmetatools\n0.1.5\n\n\nnestcolor\n0.1.2\n\n\nnlme\n3.1-163\n\n\nNLP\n0.2-1\n\n\noceanflow\n1.0.0.0000\n\n\nodbc\n1.3.5\n\n\nopenxlsx\n4.2.5.2\n\n\npatchwork\n1.1.3\n\n\npbkrtest\n0.5.2\n\n\npharmaversesdtm\n0.1.1\n\n\npkgconfig\n2.0.3\n\n\npurrr\n1.0.2\n\n\nquantreg\n5.97\n\n\nR.cache\n0.16.0\n\n\nR.methodsS3\n1.8.2\n\n\nR.oo\n1.25.0\n\n\nR.utils\n2.12.2\n\n\nrbibutils\n2.2.15\n\n\nRcpp\n1.0.11\n\n\nRdpack\n2.5\n\n\nreadr\n2.1.4\n\n\nreadxl\n1.4.3\n\n\nrenv\n1.0.3\n\n\nreshape\n0.8.9\n\n\nrlang\n1.1.1\n\n\nrlistings\n0.2.4\n\n\nrLynx\n1.3\n\n\nrmarkdown\n2.25\n\n\nrmint.sdtm\n1.7.6.9008\n\n\nroak\n3.0.5\n\n\nrtables\n0.6.3\n\n\nsass\n0.4.7\n\n\nscda\n0.1.6.9000\n\n\nscda.2022\n0.1.4.9000\n\n\nslam\n0.1-50\n\n\nsnakecase\n0.11.1\n\n\nSparseM\n1.81\n\n\nspelling\n2.2.1\n\n\nstringi\n1.7.12\n\n\nstringr\n1.5.0\n\n\nstyler\n1.10.2\n\n\nsurvival\n3.5-7\n\n\ntern\n0.9.0\n\n\ntidyr\n1.3.0\n\n\ntidyselect\n1.2.0\n\n\ntm\n0.7-11\n\n\nutf8\n1.2.4\n\n\nvctrs\n0.6.4\n\n\nwithr\n2.5.1\n\n\nxfun\n0.40\n\n\nxml2\n1.3.5\n\n\nxportr\n0.3.1\n\n\nzip\n2.3.0\n\n\nabind\n1.4-5\n\n\naskpass\n1.1\n\n\nassertthat\n0.2.1\n\n\nbackports\n1.4.1\n\n\nbase64enc\n0.1-3\n\n\nbase64url\n1.4\n\n\nbatchtools\n0.9.17\n\n\nbayesplot\n1.10.0\n\n\nBH\n1.81.0-1\n\n\nBiobase\n2.58.0\n\n\nBiocBaseUtils\n1.0.0\n\n\nBiocGenerics\n0.44.0\n\n\nBiocManager\n1.30.20\n\n\nBiocVersion\n3.16.0\n\n\nbit\n4.0.5\n\n\nbit64\n4.0.5\n\n\nbitops\n1.0-7\n\n\nblob\n1.2.4\n\n\nbrew\n1.0-8\n\n\nbrio\n1.1.3\n\n\nbroom\n1.0.4\n\n\nbslib\n0.4.2\n\n\ncachem\n1.0.8\n\n\ncallr\n3.7.3\n\n\ncellranger\n1.1.0\n\n\ncheckmate\n2.2.0\n\n\nclass\n7.3-22\n\n\ncli\n3.6.1\n\n\nclipr\n0.8.0\n\n\ncoda\n0.19-4\n\n\ncolorspace\n2.1-0\n\n\ncolourpicker\n1.2.0\n\n\ncommonmark\n1.9.0\n\n\nconfig\n0.3.1\n\n\nconflicted\n1.2.0\n\n\ncpp11\n0.4.3\n\n\ncrayon\n1.5.2\n\n\ncrmPack\n1.0.3\n\n\ncrosstalk\n1.2.0\n\n\ncurl\n5.0.0\n\n\ndata.table\n1.14.8\n\n\nDBI\n1.1.3\n\n\ndbplyr\n2.3.2\n\n\nDelayedArray\n0.24.0\n\n\ndesc\n1.4.2\n\n\ndiffobj\n0.3.5\n\n\ndigest\n0.6.31\n\n\ndistributional\n0.3.2\n\n\ndplyr\n1.1.2\n\n\nDT\n0.28\n\n\ndtplyr\n1.3.1\n\n\ndygraphs\n1.1.1.6\n\n\nellipsis\n0.3.2\n\n\nevaluate\n0.21\n\n\nfansi\n1.0.4\n\n\nfarver\n2.1.1\n\n\nfastmap\n1.1.1\n\n\nfontawesome\n0.5.1\n\n\nforcats\n1.0.0\n\n\nfs\n1.6.2\n\n\ngargle\n1.4.0\n\n\ngenerics\n0.1.3\n\n\nGenomeInfoDb\n1.34.9\n\n\nGenomeInfoDbData\n1.2.9\n\n\nGenomicRanges\n1.50.2\n\n\nGenSA\n1.1.8\n\n\ngetPass\n0.2-2\n\n\nggplot2\n3.4.2\n\n\nggridges\n0.5.4\n\n\nglue\n1.6.2\n\n\ngoogledrive\n2.1.0\n\n\ngooglesheets4\n1.1.0\n\n\ngridExtra\n2.3\n\n\ngtable\n0.3.3\n\n\ngtools\n3.9.4\n\n\nhaven\n2.5.2\n\n\nhighr\n0.10\n\n\nhms\n1.1.3\n\n\nhtmltools\n0.5.5\n\n\nhtmlwidgets\n1.6.2\n\n\nhttpuv\n1.6.11\n\n\nhttr\n1.4.6\n\n\nids\n1.0.1\n\n\nigraph\n1.4.3\n\n\ninline\n0.3.19\n\n\nIRanges\n2.32.0\n\n\nisoband\n0.2.7\n\n\njquerylib\n0.1.4\n\n\njsonlite\n1.8.4\n\n\nknitr\n1.42\n\n\nlabeling\n0.4.2\n\n\nlater\n1.3.1\n\n\nlazyeval\n0.2.2\n\n\nlifecycle\n1.0.3\n\n\nlme4\n1.1-33\n\n\nloo\n2.6.0\n\n\nlubridate\n1.9.2\n\n\nmagrittr\n2.0.3\n\n\nmarkdown\n1.7\n\n\nMatrixGenerics\n1.10.0\n\n\nmatrixStats\n0.63.0\n\n\nmemoise\n2.0.1\n\n\nmime\n0.12\n\n\nminiUI\n0.1.1.1\n\n\nminqa\n1.2.5\n\n\nmodelr\n0.1.11\n\n\nMultiAssayExperiment\n1.24.0\n\n\nmunsell\n0.5.0\n\n\nmvtnorm\n1.1-3\n\n\nnloptr\n2.0.3\n\n\nnumDeriv\n2016.8-1.1\n\n\nopenssl\n2.0.6\n\n\npillar\n1.9.0\n\n\npkgbuild\n1.4.0\n\n\npkgconfig\n2.0.3\n\n\npkgload\n1.3.2\n\n\nplogr\n0.2.0\n\n\nplyr\n1.8.8\n\n\nposterior\n1.4.1\n\n\npraise\n1.0.0\n\n\nprettyunits\n1.1.1\n\n\nprocessx\n3.8.1\n\n\nprogress\n1.2.2\n\n\npromises\n1.2.0.1\n\n\nps\n1.7.5\n\n\npurrr\n1.0.1\n\n\nR6\n2.5.1\n\n\nragg\n1.2.5\n\n\nrappdirs\n0.3.3\n\n\nRColorBrewer\n1.1-3\n\n\nRcpp\n1.0.10\n\n\nRcppEigen\n0.3.3.9.3\n\n\nRcppParallel\n5.1.7\n\n\nRCurl\n1.98-1.12\n\n\nreadr\n2.1.4\n\n\nreadxl\n1.4.2\n\n\nrematch\n1.0.1\n\n\nrematch2\n2.1.2\n\n\nremotes\n2.4.2\n\n\nrenv\n0.17.3\n\n\nreprex\n2.0.2\n\n\nreshape2\n1.4.4\n\n\nrice\n3.0.1\n\n\nrjags\n4-14\n\n\nrlang\n1.1.1\n\n\nRMariaDB\n1.2.2\n\n\nrmarkdown\n2.21\n\n\nRocheData\n3.2.0\n\n\nROracle\n1.3-1.1\n\n\nRPostgres\n1.4.5\n\n\nRPostgreSQL\n0.7-5\n\n\nrprojroot\n2.0.3\n\n\nRSQLite\n2.3.1\n\n\nrstan\n2.21.8\n\n\nrstanarm\n2.21.4\n\n\nrstantools\n2.3.1\n\n\nrstudioapi\n0.14\n\n\nrvest\n1.0.3\n\n\nS4Vectors\n0.36.2\n\n\nsass\n0.4.6\n\n\nscales\n1.2.1\n\n\nselectr\n0.4-2\n\n\nshiny\n1.7.4\n\n\nshinyjs\n2.1.0\n\n\nshinystan\n2.6.0\n\n\nshinythemes\n1.2.0\n\n\nsourcetools\n0.1.7-1\n\n\nStanHeaders\n2.26.25\n\n\nstringi\n1.7.12\n\n\nstringr\n1.5.0\n\n\nSummarizedExperiment\n1.28.0\n\n\nsys\n3.4.2\n\n\nsystemfonts\n1.0.4\n\n\ntensorA\n0.36.2\n\n\ntestthat\n3.1.8\n\n\ntextshaping\n0.3.6\n\n\nthreejs\n0.3.3\n\n\ntibble\n3.2.1\n\n\ntidyjson\n0.3.2\n\n\ntidyr\n1.3.0\n\n\ntidyselect\n1.2.0\n\n\ntidyverse\n2.0.0\n\n\ntimechange\n0.2.0\n\n\ntzdb\n0.4.0\n\n\nutf8\n1.2.3\n\n\nuuid\n1.1-0\n\n\nvctrs\n0.6.2\n\n\nviridisLite\n0.4.2\n\n\nvroom\n1.6.3\n\n\nwaldo\n0.5.1\n\n\nwithr\n2.5.0\n\n\nxml2\n1.3.4\n\n\nxtable\n1.8-4\n\n\nxts\n0.13.1\n\n\nXVector\n0.38.0\n\n\nyaml\n2.3.7\n\n\nzlibbioc\n1.44.0\n\n\nzoo\n1.8-12\n\n\nbase\n4.2.2\n\n\nboot\n1.3-28.1\n\n\nclass\n7.3-22\n\n\ncluster\n2.1.4\n\n\ncodetools\n0.2-19\n\n\ncompiler\n4.2.2\n\n\ndatasets\n4.2.2\n\n\nforeign\n0.8-84\n\n\ngraphics\n4.2.2\n\n\ngrDevices\n4.2.2\n\n\ngrid\n4.2.2\n\n\nKernSmooth\n2.23-21\n\n\nlattice\n0.21-8\n\n\nMASS\n7.3-60\n\n\nMatrix\n1.5-4.1\n\n\nmethods\n4.2.2\n\n\nmgcv\n1.8-42\n\n\nnlme\n3.1-162\n\n\nnnet\n7.3-19\n\n\nparallel\n4.2.2\n\n\nrpart\n4.1.19\n\n\nspatial\n7.3-16\n\n\nsplines\n4.2.2\n\n\nstats\n4.2.2\n\n\nstats4\n4.2.2\n\n\nsurvival\n3.5-5\n\n\ntcltk\n4.2.2\n\n\ntinytex\n0.45\n\n\ntools\n4.2.2\n\n\nutils\n4.2.2\n\n\nxfun\n0.39"
  },
  {
    "objectID": "adam/ADSL.html",
    "href": "adam/ADSL.html",
    "title": "ADSL",
    "section": "",
    "text": "This guide will show you how four pharmaverse packages, along with some from tidyverse, can be used to create an ADaM such as ADSL end-to-end, using pharmaversesdtm SDTM data as input.\nThe four packages used with a brief description of their purpose are as follows:\n\n\n{metacore}: provides harmonized metadata/specifications object.\n\n{metatools}: uses the provided metadata to build/enhance and check the dataset.\n\n{admiral}: provides the ADaM derivations.\n\n{xportr}: delivers the SAS transport file (XPT) and eSub checks.\n\nIt is important to understand metacore objects by reading through the above linked package site, as these are fundamental to being able to use metatools and xportr. Each company may need to build a specification reader to create these objects from their source standard specification templates."
  },
  {
    "objectID": "adam/ADSL.html#load-data-and-required-pharmaverse-packages",
    "href": "adam/ADSL.html#load-data-and-required-pharmaverse-packages",
    "title": "ADSL",
    "section": "Load Data and Required pharmaverse Packages",
    "text": "Load Data and Required pharmaverse Packages\nThe first step is to load our pharmaverse packages and input data.\n\nCodelibrary(metacore)\nlibrary(metatools)\nlibrary(pharmaversesdtm)\nlibrary(admiral)\nlibrary(xportr)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(lubridate)\nlibrary(stringr)\n\n# Read in input SDTM data \ndata(\"dm\")\ndata(\"ex\")\n\n\nNext we need to load the specification file in the form of a metacore object.\n\nCode# Read in metacore object \nload(metacore_example(\"pilot_ADaM.rda\"))\nmetacore <- metacore %>% \n   select_dataset(\"ADSL\")\n\n\nHere is an example of how a metacore object looks showing variable level metadata:\n\nCodemetacore$ds_vars\n\n# A tibble: 49 × 7\n   dataset variable key_seq order keep  core  supp_flag\n   <chr>   <chr>      <int> <int> <lgl> <chr> <lgl>    \n 1 ADSL    STUDYID       NA     1 FALSE <NA>  NA       \n 2 ADSL    USUBJID        1     2 FALSE <NA>  NA       \n 3 ADSL    SUBJID        NA     3 FALSE <NA>  NA       \n 4 ADSL    SITEID        NA     4 FALSE <NA>  NA       \n 5 ADSL    SITEGR1       NA     5 FALSE <NA>  NA       \n 6 ADSL    ARM           NA     6 FALSE <NA>  NA       \n 7 ADSL    TRT01P        NA     7 FALSE <NA>  NA       \n 8 ADSL    TRT01PN       NA     8 FALSE <NA>  NA       \n 9 ADSL    TRT01A        NA     9 FALSE <NA>  NA       \n10 ADSL    TRT01AN       NA    10 FALSE <NA>  NA       \n# ℹ 39 more rows"
  },
  {
    "objectID": "adam/ADSL.html#start-building-derivations",
    "href": "adam/ADSL.html#start-building-derivations",
    "title": "ADSL",
    "section": "Start Building Derivations",
    "text": "Start Building Derivations\nThe first derivation step we are going to do is to pull through all the columns that come directly from the SDTM datasets. You might know which datasets you are going to pull from directly already, but if you don’t you can call metatools::build_from_derived() with just an empty list and the error will tell you which datasets you need to supply.\n\nCodebuild_from_derived(metacore, list(), predecessor_only = FALSE)\n\nError in build_from_derived(metacore, list(), predecessor_only = FALSE): Not all datasets provided. Please pass the following dataset(s):\nDM\n\n\nIn this case all the columns come from DM so that is the only dataset we will pass into metatools::build_from_derived(). The resulting dataset has all the columns combined and any columns that needed renaming between SDTM and ADaM are renamed.\n\nCodeadsl_preds <- build_from_derived(metacore, \n                                 ds_list = list(\"dm\" = dm), \n                                 predecessor_only = FALSE, keep = TRUE)\nhead(adsl_preds, n=10)\n\n# A tibble: 10 × 14\n   STUDYID      USUBJID SUBJID SITEID ARM     AGE AGEU  RACE  SEX   ETHNIC DTHFL\n   <chr>        <chr>   <chr>  <chr>  <chr> <dbl> <chr> <chr> <chr> <chr>  <chr>\n 1 CDISCPILOT01 01-701… 1015   701    Plac…    63 YEARS WHITE F     HISPA… <NA> \n 2 CDISCPILOT01 01-701… 1023   701    Plac…    64 YEARS WHITE M     HISPA… <NA> \n 3 CDISCPILOT01 01-701… 1028   701    Xano…    71 YEARS WHITE M     NOT H… <NA> \n 4 CDISCPILOT01 01-701… 1033   701    Xano…    74 YEARS WHITE M     NOT H… <NA> \n 5 CDISCPILOT01 01-701… 1034   701    Xano…    77 YEARS WHITE F     NOT H… <NA> \n 6 CDISCPILOT01 01-701… 1047   701    Plac…    85 YEARS WHITE F     NOT H… <NA> \n 7 CDISCPILOT01 01-701… 1057   701    Scre…    59 YEARS WHITE F     HISPA… <NA> \n 8 CDISCPILOT01 01-701… 1097   701    Xano…    68 YEARS WHITE M     NOT H… <NA> \n 9 CDISCPILOT01 01-701… 1111   701    Xano…    81 YEARS WHITE F     NOT H… <NA> \n10 CDISCPILOT01 01-701… 1115   701    Xano…    84 YEARS WHITE M     NOT H… <NA> \n# ℹ 3 more variables: RFSTDTC <chr>, RFENDTC <chr>, TRT01P <chr>\n\n\nNow we have the base dataset, we can start to create some variables. We can start with creating the subgroups using the controlled terminology, in this case AGEGR1. The metacore object holds all the metadata needed to make ADSL. Part of that metadata is the controlled terminology, which can help automate the creation of subgroups. We can look into the metacore object and see the controlled terminology for AGEGR1.\n\nCodeget_control_term(metacore, variable = AGEGR1)\n\n# A tibble: 3 × 2\n  code  decode\n  <chr> <chr> \n1 <65   <65   \n2 65-80 65-80 \n3 >80   >80   \n\n\nBecause this controlled terminology is written in a fairly standard format we can automate the creation of AGEGR1. The function metatools::create_cat_var() takes in a metacore object, a reference variable - in this case AGE because that is the continuous variable AGEGR1 is created from, and the name of the sub-grouped variable. It will take the controlled terminology from the sub-grouped variable and group the reference variables accordingly.\nUsing a similar philosophy we can create the numeric version of RACE using the controlled terminology stored in the metacore object with the metatools::create_var_from_codelist() function.\n\nCodeadsl_ct <- adsl_preds %>% \n   create_cat_var(metacore, ref_var = AGE, \n                  grp_var = AGEGR1, num_grp_var = AGEGR1N) %>% \n   create_var_from_codelist(metacore = metacore, \n                            input_var = RACE, \n                            out_var = RACEN) %>% \n   #Removing screen failures from ARM and TRT01P to match the define and FDA guidence\n   mutate(ARM = if_else(ARM == \"Screen Failure\", NA_character_, ARM),\n          TRT01P = if_else(TRT01P == \"Screen Failure\", NA_character_, TRT01P)\n   )\n\nhead(adsl_ct, n=10)\n\n# A tibble: 10 × 17\n   STUDYID      USUBJID SUBJID SITEID ARM     AGE AGEU  RACE  SEX   ETHNIC DTHFL\n   <chr>        <chr>   <chr>  <chr>  <chr> <dbl> <chr> <chr> <chr> <chr>  <chr>\n 1 CDISCPILOT01 01-701… 1015   701    Plac…    63 YEARS WHITE F     HISPA… <NA> \n 2 CDISCPILOT01 01-701… 1023   701    Plac…    64 YEARS WHITE M     HISPA… <NA> \n 3 CDISCPILOT01 01-701… 1028   701    Xano…    71 YEARS WHITE M     NOT H… <NA> \n 4 CDISCPILOT01 01-701… 1033   701    Xano…    74 YEARS WHITE M     NOT H… <NA> \n 5 CDISCPILOT01 01-701… 1034   701    Xano…    77 YEARS WHITE F     NOT H… <NA> \n 6 CDISCPILOT01 01-701… 1047   701    Plac…    85 YEARS WHITE F     NOT H… <NA> \n 7 CDISCPILOT01 01-701… 1057   701    <NA>     59 YEARS WHITE F     HISPA… <NA> \n 8 CDISCPILOT01 01-701… 1097   701    Xano…    68 YEARS WHITE M     NOT H… <NA> \n 9 CDISCPILOT01 01-701… 1111   701    Xano…    81 YEARS WHITE F     NOT H… <NA> \n10 CDISCPILOT01 01-701… 1115   701    Xano…    84 YEARS WHITE M     NOT H… <NA> \n# ℹ 6 more variables: RFSTDTC <chr>, RFENDTC <chr>, TRT01P <chr>, AGEGR1 <chr>,\n#   AGEGR1N <dbl>, RACEN <dbl>\n\n\nNow we have sorted out what we can easily do with controlled terminology it is time to start deriving some variables. Here you could refer directly to using the admiral template and vignette in practice, but for the purpose of this end-to-end ADaM vignette we will share a few exposure derivations from there. We derive the start and end of treatment (which requires dates to first be converted from DTC to DTM), the treatment duration, and the safety population flag.\n\nCodeex_ext <- ex %>%\n  derive_vars_dtm(\n    dtc = EXSTDTC,\n    new_vars_prefix = \"EXST\"\n  ) %>%\n  derive_vars_dtm(\n    dtc = EXENDTC,\n    new_vars_prefix = \"EXEN\",\n    time_imputation = \"last\"\n  )\n\nadsl_raw <- adsl_ct %>%\n  derive_vars_merged(\n    dataset_add = ex_ext,\n    filter_add = (EXDOSE > 0 |\n      (EXDOSE == 0 &\n        str_detect(EXTRT, \"PLACEBO\"))) & nchar(EXSTDTC) >= 10,\n    new_vars = exprs(TRTSDTM = EXSTDTM),\n    order = exprs(EXSTDTM, EXSEQ),\n    mode = \"first\",\n    by_vars = exprs(STUDYID, USUBJID)\n  ) %>%\n  derive_vars_merged(\n    dataset_add = ex_ext,\n    filter_add = (EXDOSE > 0 |\n      (EXDOSE == 0 &\n        str_detect(EXTRT, \"PLACEBO\"))) & nchar(EXENDTC) >= 10,\n    new_vars = exprs(TRTEDTM = EXENDTM),\n    order = exprs(EXENDTM, EXSEQ),\n    mode = \"last\",\n    by_vars = exprs(STUDYID, USUBJID)\n  ) %>%\n   derive_vars_dtm_to_dt(source_vars = exprs(TRTSDTM, TRTEDTM)) %>%  #Convert Datetime variables to date \n   derive_var_trtdurd() %>% \n   derive_var_merged_exist_flag(\n     dataset_add = ex,\n     by_vars = exprs(STUDYID, USUBJID),\n     new_var = SAFFL,\n     condition = (EXDOSE > 0 | (EXDOSE == 0 & str_detect(EXTRT, \"PLACEBO\")))\n   ) %>% \n   drop_unspec_vars(metacore) #This will drop any columns that aren't specified in the metacore object\n\nThe following variable(s) were dropped:\n  TRTSDTM\n  TRTEDTM\n\nCodehead(adsl_raw, n=10)\n\n# A tibble: 10 × 21\n   STUDYID      USUBJID SUBJID SITEID ARM     AGE AGEU  RACE  SEX   ETHNIC DTHFL\n   <chr>        <chr>   <chr>  <chr>  <chr> <dbl> <chr> <chr> <chr> <chr>  <chr>\n 1 CDISCPILOT01 01-701… 1015   701    Plac…    63 YEARS WHITE F     HISPA… <NA> \n 2 CDISCPILOT01 01-701… 1023   701    Plac…    64 YEARS WHITE M     HISPA… <NA> \n 3 CDISCPILOT01 01-701… 1028   701    Xano…    71 YEARS WHITE M     NOT H… <NA> \n 4 CDISCPILOT01 01-701… 1033   701    Xano…    74 YEARS WHITE M     NOT H… <NA> \n 5 CDISCPILOT01 01-701… 1034   701    Xano…    77 YEARS WHITE F     NOT H… <NA> \n 6 CDISCPILOT01 01-701… 1047   701    Plac…    85 YEARS WHITE F     NOT H… <NA> \n 7 CDISCPILOT01 01-701… 1057   701    <NA>     59 YEARS WHITE F     HISPA… <NA> \n 8 CDISCPILOT01 01-701… 1097   701    Xano…    68 YEARS WHITE M     NOT H… <NA> \n 9 CDISCPILOT01 01-701… 1111   701    Xano…    81 YEARS WHITE F     NOT H… <NA> \n10 CDISCPILOT01 01-701… 1115   701    Xano…    84 YEARS WHITE M     NOT H… <NA> \n# ℹ 10 more variables: RFSTDTC <chr>, RFENDTC <chr>, TRT01P <chr>,\n#   AGEGR1 <chr>, AGEGR1N <dbl>, RACEN <dbl>, TRTSDT <date>, TRTEDT <date>,\n#   TRTDURD <dbl>, SAFFL <chr>"
  },
  {
    "objectID": "adam/ADSL.html#apply-metadata-to-create-an-esub-xpt-and-perform-associated-checks",
    "href": "adam/ADSL.html#apply-metadata-to-create-an-esub-xpt-and-perform-associated-checks",
    "title": "ADSL",
    "section": "Apply Metadata to Create an eSub XPT and Perform Associated Checks",
    "text": "Apply Metadata to Create an eSub XPT and Perform Associated Checks\nNow we have all the variables defined we can run some checks before applying the necessary formatting. The top four functions performing checks and sorting/ordering come from metatools, whereas the others focused around applying attributes to prepare for XPT come from xportr. At the end you could add a call to xportr::xportr_write() to produce the XPT file.\n\nCodeadsl_raw %>% \n   check_variables(metacore) %>% # Check all variables specified are present and no more\n   check_ct_data(metacore, na_acceptable = TRUE) %>% # Checks all variables with CT only contain values within the CT\n   order_cols(metacore) %>% # Orders the columns according to the spec\n   sort_by_key(metacore) %>% # Sorts the rows by the sort keys \n   xportr_type(metacore) %>% # Coerce variable type to match spec\n   xportr_length(metacore) %>% # Assigns SAS length from a variable level metadata \n   xportr_label(metacore) %>% # Assigns variable label from metacore specifications \n   xportr_df_label(metacore) # Assigns dataset label from metacore specifications\n\n# A tibble: 306 × 49\n   STUDYID     USUBJID SUBJID SITEID SITEGR1 ARM   TRT01P TRT01PN TRT01A TRT01AN\n   <chr>       <chr>   <chr>  <chr>  <chr>   <chr> <chr>    <dbl> <chr>    <dbl>\n 1 CDISCPILOT… 01-701… 1015   701    <NA>    Plac… Place…      NA <NA>        NA\n 2 CDISCPILOT… 01-701… 1023   701    <NA>    Plac… Place…      NA <NA>        NA\n 3 CDISCPILOT… 01-701… 1028   701    <NA>    Xano… Xanom…      NA <NA>        NA\n 4 CDISCPILOT… 01-701… 1033   701    <NA>    Xano… Xanom…      NA <NA>        NA\n 5 CDISCPILOT… 01-701… 1034   701    <NA>    Xano… Xanom…      NA <NA>        NA\n 6 CDISCPILOT… 01-701… 1047   701    <NA>    Plac… Place…      NA <NA>        NA\n 7 CDISCPILOT… 01-701… 1057   701    <NA>    <NA>  <NA>        NA <NA>        NA\n 8 CDISCPILOT… 01-701… 1097   701    <NA>    Xano… Xanom…      NA <NA>        NA\n 9 CDISCPILOT… 01-701… 1111   701    <NA>    Xano… Xanom…      NA <NA>        NA\n10 CDISCPILOT… 01-701… 1115   701    <NA>    Xano… Xanom…      NA <NA>        NA\n# ℹ 296 more rows\n# ℹ 39 more variables: TRTSDT <date>, TRTEDT <date>, TRTDURD <dbl>,\n#   AVGDD <dbl>, CUMDOSE <dbl>, AGE <dbl>, AGEGR1 <chr>, AGEGR1N <dbl>,\n#   AGEU <chr>, RACE <chr>, RACEN <dbl>, SEX <chr>, ETHNIC <chr>, SAFFL <chr>,\n#   ITTFL <chr>, EFFFL <chr>, COMP8FL <chr>, COMP16FL <chr>, COMP24FL <chr>,\n#   DISCONFL <chr>, DSRAEFL <chr>, DTHFL <chr>, BMIBL <dbl>, BMIBLGR1 <chr>,\n#   HEIGHTBL <dbl>, WEIGHTBL <dbl>, EDUCLVL <dbl>, DISONSDT <lgl>, …"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "pharmaverse examples",
    "section": "",
    "text": "The true beauty of pharmaverse (and open source in general) is when efforts from various different developers come together to compliment each other as a whole greater than the sum of the individual parts. By design in R, no single package will ever completely cover all your needs, but by piecing them together we can make complex tasks increasingly simple.\nThis book contains end-to-end examples of using pharmaverse packages together to achieve common clinical reporting analyses. The examples use consistent source SDTMs to create ADaMs (such as ADSL and ADAE) and using these as input to produce some familiar Tables/Listings/Graphs and associated interactive displays (via Shiny).\nOther examples may be included here, e.g. for PK/PD or Therapeutic Area specifics (such as Oncology or Vaccines).\nNote that this examples book should only be used to show how collections of packages can be used in conjunction - more thorough examples of individual package usages would always be covered in the package site vignettes and no need to repeat here.\nIf you’d like to try out any of these examples in a live R session (via Posit Cloud) or if you are interesting in contributing an article to this book, then see more in our GitHub repo README."
  }
]